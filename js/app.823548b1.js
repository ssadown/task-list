(function(){"use strict";var t={800:function(t,e,s){var r=s(5130),o=s(6768);function a(t,e,s,r,a,n){const l=(0,o.g2)("Header"),i=(0,o.g2)("router-view");return(0,o.uX)(),(0,o.CE)(o.FK,null,[(0,o.bF)(l),(0,o.bF)(i)],64)}var n=s(4232);const l=t=>((0,o.Qi)("data-v-0fd6fa10"),t=t(),(0,o.jt)(),t),i={key:0,class:"current-user__header"},c=l((()=>(0,o.Lk)("h1",null,"TaskList on Vue + TypeScript",-1)));function u(t,e,s,r,a,l){const u=(0,o.g2)("Button");return(0,o.uX)(),(0,o.CE)("header",null,[this.currentUser?((0,o.uX)(),(0,o.CE)("h1",i,(0,n.v_)(this.currentUser),1)):(0,o.Q3)("",!0),c,this.currentUser?((0,o.uX)(),(0,o.Wv)(u,{key:1,buttonText:"Выйти",onClick:e[0]||(e[0]=()=>{l.exitFromApp()})})):(0,o.Q3)("",!0)])}s(4114);var p=s(782);function d(t,e,s,r,a,l){return(0,o.uX)(),(0,o.CE)("button",null,(0,n.v_)(s.buttonText),1)}var k={props:{buttonText:String}},h=s(1241);const m=(0,h.A)(k,[["render",d],["__scopeId","data-v-4bd519eb"]]);var g=m,T={computed:{...(0,p.aH)({currentUser:t=>t.currentUser})},components:{Button:g},methods:{setCurrentUser(t){this.$store.dispatch("setUser",t)},setLogin(t){this.$store.dispatch("setLogin",t)},exitFromApp(){this.$router.push("/task-list"),localStorage.removeItem("currentUser"),localStorage.setItem("isLogin",!1),this.setCurrentUser(""),this.setLogin(!1)}}};const v=(0,h.A)(T,[["render",u],["__scopeId","data-v-0fd6fa10"]]);var f=v,C={components:{Header:f},beforeMount(){localStorage.getItem("currentUser")&&(this.setCurrentUser(localStorage.getItem("currentUser")),localStorage.setItem("isLogin",!0),this.setLogin(!0))},methods:{setCurrentUser(t){this.$store.dispatch("setUser",t)},setLogin(t){this.$store.dispatch("setLogin",t)}},computed:{...(0,p.aH)({isLogin:t=>t.isLogin,currentUser:t=>t.currentUser})}};const b=(0,h.A)(C,[["render",a]]);var L=b;const F={class:"wrapper"},_={class:"error-text"};function x(t,e,s,a,n,l){const i=(0,o.g2)("Input"),c=(0,o.g2)("Button");return(0,o.uX)(),(0,o.CE)("div",F,[(0,o.bF)(i,{modelValue:n.loginValue,"onUpdate:modelValue":e[0]||(e[0]=t=>n.loginValue=t),modelModifiers:{trim:!0},placeholderText:"Введите имя пользователя"},null,8,["modelValue"]),(0,o.bo)((0,o.Lk)("p",_,"Вы не ввели имя пользователя!",512),[[r.aG,n.errorLogin]]),(0,o.bF)(c,{buttonText:"Войти",onClick:e[1]||(e[1]=()=>{l.login(this.loginValue)})})])}const I=["placeholder","value"];function U(t,e,s,r,a,n){return(0,o.uX)(),(0,o.CE)("input",{placeholder:s.placeholderText,type:"text",value:s.modelValue,onInput:e[0]||(e[0]=(...t)=>n.updateValue&&n.updateValue(...t))},null,40,I)}var w={props:{modelValue:[String,Number],placeholderText:String},methods:{updateValue(t){this.$emit("update:modelValue",t.target.value)}}};const S=(0,h.A)(w,[["render",U]]);var $=S,V={data(){return{loginValue:"",errorLogin:!1}},components:{Button:g,Input:$},methods:{login(t){""!==this.loginValue?(localStorage.setItem("currentUser",t),this.$store.dispatch("setUser",t),localStorage.setItem("isLogin",!0),this.$store.dispatch("setLogin",!0),this.errorLogin=!1,this.$router.push("/alltasks")):this.errorLogin=!0}},computed:{...(0,p.aH)({currentUser:t=>t.currentUser,isLogin:t=>t.isLogin})}};const y=(0,h.A)(V,[["render",x],["__scopeId","data-v-32508210"]]);var E=y;const O={class:"wrapper"},X={class:"tasks-page__wrapper"};function A(t,e,s,r,a,n){const l=(0,o.g2)("PostForm"),i=(0,o.g2)("TaskList");return(0,o.uX)(),(0,o.CE)("div",O,[(0,o.Lk)("div",X,[(0,o.bF)(l),(0,o.bF)(i)])])}const B=t=>((0,o.Qi)("data-v-00e2a40d"),t=t(),(0,o.jt)(),t),j=B((()=>(0,o.Lk)("h1",null,"Создать новую задачу",-1))),M={class:"error-text"},H={class:"error-text"};function N(t,e,s,a,n,l){const i=(0,o.g2)("Input"),c=(0,o.g2)("Textarea"),u=(0,o.g2)("Button");return(0,o.uX)(),(0,o.CE)("form",{onSubmit:e[2]||(e[2]=(0,r.D$)((()=>{}),["prevent"]))},[j,(0,o.bF)(i,{modelValue:n.newTask.title,"onUpdate:modelValue":e[0]||(e[0]=t=>n.newTask.title=t),modelModifiers:{trim:!0},placeholderText:"Введите название задачи",class:"title-input"},null,8,["modelValue"]),(0,o.bo)((0,o.Lk)("p",M,"Вы не заполнили название задачи!",512),[[r.aG,n.errorForm.errorTitle]]),(0,o.bF)(c,{modelValue:n.newTask.content,"onUpdate:modelValue":e[1]||(e[1]=t=>n.newTask.content=t),modelModifiers:{trim:!0},placeholderText:"Введите описание задачи",class:"content-input"},null,8,["modelValue"]),(0,o.bo)((0,o.Lk)("p",H,"Вы не заполнили описание задачи!",512),[[r.aG,n.errorForm.errorContent]]),(0,o.bF)(u,{buttonText:"Создать задачу",onClick:l.createTask},null,8,["onClick"])],32)}const J=["placeholder","value"];function Q(t,e,s,r,a,n){return(0,o.uX)(),(0,o.CE)("textarea",{placeholder:s.placeholderText,type:"text",value:s.modelValue,onInput:e[0]||(e[0]=(...t)=>n.updateValue&&n.updateValue(...t))},null,40,J)}var D={props:{modelValue:String,placeholderText:String},methods:{updateValue(t){this.$emit("update:modelValue",t.target.value)}}};const P=(0,h.A)(D,[["render",Q]]);var G=P,W={data(){return{newTask:{title:"",content:""},errorForm:{errorTitle:!1,errorContent:!1}}},components:{Input:$,Button:g,Textarea:G},methods:{createTask(){if(""!==this.newTask.title&&""!==this.newTask.content){let t={id:Math.floor(1e5*Math.random()),title:this.newTask.title,content:this.newTask.content,completed:!1},e=!1;for(let s=0;s<this.tasks.length;s++)t.id===this.tasks[s].id?(t.id=Math.floor(1e5*Math.random()),s=-1,e=!0):e=!1;e||(this.tasks.push(t),localStorage.setItem("tasks",JSON.stringify(this.tasks))),this.newTask.title="",this.newTask.content="",this.errorForm.errorTitle=!1,this.errorForm.errorContent=!1}else""===this.newTask.title&&""===this.newTask.content?(this.errorForm.errorTitle=!0,this.errorForm.errorContent=!0):""===this.newTask.title?(this.errorForm.errorTitle=!0,this.errorForm.errorContent=!1):""===this.newTask.content&&(this.errorForm.errorTitle=!1,this.errorForm.errorContent=!0)}},computed:{...(0,p.aH)({tasks:t=>t.tasks})}};const K=(0,h.A)(W,[["render",N],["__scopeId","data-v-00e2a40d"]]);var R=K;const q=t=>((0,o.Qi)("data-v-fe25446c"),t=t(),(0,o.jt)(),t),z={key:0,class:"task-list__wrapper"},Y=q((()=>(0,o.Lk)("h1",null,"Все задачи выполнены!",-1))),Z=[Y],tt={key:1,class:"task-list__wrapper"},et=q((()=>(0,o.Lk)("h1",null,"Задачи",-1)));function st(t,e,s,a,n,l){const i=(0,o.g2)("TaskBlock");return 0===t.$store.state.tasks.length?((0,o.uX)(),(0,o.CE)("div",z,Z)):((0,o.uX)(),(0,o.CE)("div",tt,[et,(0,o.bF)(r.F,{name:"task"},{default:(0,o.k6)((()=>[((0,o.uX)(!0),(0,o.CE)(o.FK,null,(0,o.pI)(t.tasks,(s=>((0,o.uX)(),(0,o.Wv)(i,{key:s.id,propsForCurrentTask:s,propsDeleteTask:l.deleteTask,"onUpdate:propsTasks":e[0]||(e[0]=e=>t.tasks.completed=e),onRemove:l.deleteTask},null,8,["propsForCurrentTask","propsDeleteTask","onRemove"])))),128))])),_:1})]))}const rt={class:"task-block"},ot={class:"task-content"},at={class:"task-block__complete-block"},nt={class:"complete-block__checkbox"},lt=["id","checked","value"],it=["for"],ct=["disabled"];function ut(t,e,s,r,a,l){const i=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",rt,[(0,o.bF)(i,{to:`/alltasks/${s.propsForCurrentTask.id}`,onClick:e[0]||(e[0]=()=>{l.setTask()})},{default:(0,o.k6)((()=>[(0,o.Lk)("h1",null,(0,n.v_)(s.propsForCurrentTask.id),1)])),_:1},8,["to"]),(0,o.Lk)("h2",null,(0,n.v_)(s.propsForCurrentTask.title),1),(0,o.Lk)("p",ot,(0,n.v_)(s.propsForCurrentTask.content),1),(0,o.Lk)("div",at,[(0,o.Lk)("div",nt,[(0,o.Lk)("input",{type:"checkbox",id:["checkbox"+s.propsForCurrentTask.id],class:"checkbox",checked:s.propsForCurrentTask.completed,value:s.propsForCurrentTask.completed,onInput:e[1]||(e[1]=(...t)=>l.updateComplete&&l.updateComplete(...t))},null,40,lt),(0,o.Lk)("label",{for:["checkbox"+s.propsForCurrentTask.id]},"Выполнено",8,it)]),(0,o.Lk)("p",{class:(0,n.C4)([s.propsForCurrentTask.completed?"task-complete":"task-not-complete"])},(0,n.v_)(s.propsForCurrentTask.completed?"Задача выполнена!":"Задача не выполнена!"),3),(0,o.Lk)("button",{disabled:!s.propsForCurrentTask.completed,onClick:e[2]||(e[2]=(...t)=>l.deleteTask&&l.deleteTask(...t))},"Удалить задачу",8,ct)])])}var pt={props:{propsForCurrentTask:Object,propsDeleteTask:Function},methods:{updateComplete(t){this.propsForCurrentTask.completed=t.target.checked,this.$emit("update:propsTask",t.target),localStorage.removeItem("tasks"),localStorage.setItem("tasks",JSON.stringify(this.tasks))},deleteTask(){this.$emit("remove",this.propsForCurrentTask.id)},setTask(){this.$store.dispatch("setCurrentTask",this.propsForCurrentTask),console.log(this.$store.currentTask)}},computed:{...(0,p.aH)({tasks:t=>t.tasks})}};const dt=(0,h.A)(pt,[["render",ut],["__scopeId","data-v-b07527ca"]]);var kt=dt,ht={components:{TaskBlock:kt},methods:{deleteTask(t){this.$store.dispatch("deleteTask",t),localStorage.setItem("tasks",JSON.stringify(this.tasks))}},computed:{...(0,p.aH)({tasks:t=>t.tasks})}};const mt=(0,h.A)(ht,[["render",st],["__scopeId","data-v-fe25446c"]]);var gt=mt,Tt={computed:{...(0,p.aH)({tasks:t=>t.tasks})},beforeMount(){const t=localStorage.getItem("tasks"),e=localStorage.getItem("currentUser");t&&this.setTasks(JSON.parse(t)),e&&(this.setCurrentUser(e),localStorage.setItem("isLogin",!0),this.setLogin(!0)),e||this.$router.push("/task-list")},methods:{setTasks(t){this.$store.dispatch("setTasks",t)},setCurrentUser(t){this.$store.dispatch("setUser",t)},setLogin(t){this.$store.dispatch("setLogin",t)}},components:{PostForm:R,TaskList:gt}};const vt=(0,h.A)(Tt,[["render",A],["__scopeId","data-v-98dece1c"]]);var ft=vt;const Ct={class:"wrapper"},bt={class:"wrapper__current-page"},Lt=["id","checked","value"],Ft=["for"];function _t(t,e,s,r,a,l){const i=(0,o.g2)("Button"),c=(0,o.g2)("router-link");return(0,o.uX)(),(0,o.CE)("div",Ct,[(0,o.Lk)("div",bt,[(0,o.Lk)("h1",null,(0,n.v_)(this.task.title),1),(0,o.Lk)("p",null,(0,n.v_)(this.task.content),1),(0,o.Lk)("input",{type:"checkbox",class:"checkbox",id:`checkbox${t.task.id}`,checked:t.task.completed,onInput:e[0]||(e[0]=(...t)=>l.updateComplete&&l.updateComplete(...t)),value:t.task.completed},null,40,Lt),(0,o.Lk)("label",{for:`checkbox${t.task.id}`},"Задание выполнено!",8,Ft),(0,o.bF)(i,{buttonText:"Удалить задачу",disabled:!t.task.completed,onClick:l.deleteTask},null,8,["disabled","onClick"]),(0,o.bF)(c,{to:"/alltasks"},{default:(0,o.k6)((()=>[(0,o.eW)("Вернуться назад")])),_:1})])])}var xt={components:{Button:g},created(){const t=localStorage.getItem("currentUser");t||this.$router.push("/task-list")},methods:{updateComplete(){this.$store.dispatch("setCompleted",this.task.id),localStorage.removeItem("tasks"),localStorage.setItem("tasks",JSON.stringify(this.tasks))},deleteTask(){this.$store.dispatch("deleteTask",this.task.id),localStorage.removeItem("tasks"),localStorage.setItem("tasks",JSON.stringify(this.tasks)),this.$router.push("/alltasks")}},computed:{...(0,p.aH)({task:t=>t.currentTask,tasks:t=>t.tasks})}};const It=(0,h.A)(xt,[["render",_t],["__scopeId","data-v-023d18c2"]]);var Ut=It,wt=s(1387);const St=t=>((0,o.Qi)("data-v-40f97016"),t=t(),(0,o.jt)(),t),$t={class:"wrapper"},Vt=St((()=>(0,o.Lk)("h1",null,"Страница не найдена!",-1)));function yt(t,e,s,r,a,n){const l=(0,o.g2)("Button");return(0,o.uX)(),(0,o.CE)("div",$t,[Vt,(0,o.bF)(l,{buttonText:"Вернуться назад!",onClick:e[0]||(e[0]=()=>{t.$router.push("/task-list")})})])}var Et={components:{Button:g}};const Ot=(0,h.A)(Et,[["render",yt],["__scopeId","data-v-40f97016"]]);var Xt=Ot;const At=[{path:"/index.html",redirect:"/task-list"},{path:"/task-list",component:E},{path:"/alltasks",component:ft},{path:"/alltasks/:id",component:Ut},{path:"/:pathMatch(.*)*",component:Xt}],Bt=(0,wt.aE)({history:(0,wt.LA)("/"),routes:At});var jt=Bt,Mt=(0,p.y$)({state:{tasks:[],currentTask:{},currentUser:"",isLogin:!1},getters:{},mutations:{deleteTask(t,e){t.tasks=t.tasks.filter((t=>t.id!==e))},setTasks(t,e){t.tasks=e},setUser(t,e){t.currentUser=e},setLogin(t,e){t.isLogin=e},setCurrentTask(t,e){t.currentTask=e},setCompleted(t,e){t.tasks.find((t=>{t.id===e&&(t.completed=!t.completed)}))}},actions:{setCompleted(t,e){t.commit("setCompleted",e)},deleteTask(t,e){t.commit("deleteTask",e)},setTasks(t,e){t.commit("setTasks",e)},setUser(t,e){t.commit("setUser",e)},setLogin(t,e){t.commit("setLogin",e)},setCurrentTask(t,e){t.commit("setCurrentTask",e)}},modules:{}});(0,r.Ef)(L).use(Mt).use(jt).mount("#app")}},e={};function s(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r].call(a.exports,a,a.exports,s),a.exports}s.m=t,function(){var t=[];s.O=function(e,r,o,a){if(!r){var n=1/0;for(u=0;u<t.length;u++){r=t[u][0],o=t[u][1],a=t[u][2];for(var l=!0,i=0;i<r.length;i++)(!1&a||n>=a)&&Object.keys(s.O).every((function(t){return s.O[t](r[i])}))?r.splice(i--,1):(l=!1,a<n&&(n=a));if(l){t.splice(u--,1);var c=o();void 0!==c&&(e=c)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[r,o,a]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var r in e)s.o(e,r)&&!s.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};s.O.j=function(e){return 0===t[e]};var e=function(e,r){var o,a,n=r[0],l=r[1],i=r[2],c=0;if(n.some((function(e){return 0!==t[e]}))){for(o in l)s.o(l,o)&&(s.m[o]=l[o]);if(i)var u=i(s)}for(e&&e(r);c<n.length;c++)a=n[c],s.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return s.O(u)},r=self["webpackChunktask_list"]=self["webpackChunktask_list"]||[];r.forEach(e.bind(null,0)),r.push=e.bind(null,r.push.bind(r))}();var r=s.O(void 0,[504],(function(){return s(800)}));r=s.O(r)})();
//# sourceMappingURL=app.823548b1.js.map